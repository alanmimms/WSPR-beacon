<!DOCTYPE html>
<html>
<head><title>Index</title></head>
<body>
  <main>
    <h2>Status</h2>
    <p id="status-text">Loading current beacon status...</p>
    <script>
      fetch('/api/status.json')
        .then(res => res.json())
        .then(data => {
          const statusText = `
            Callsign: ${data.callsign || "?"}<br>
            Maidenhead Grid: ${data.locator || "?"}<br>
            Power: ${data.powerMW || 0}mW (${data.powerDbm || "?"}dBm)<br>
            TX %: ${data.tx_percentage || "?"}<br>
            TX Skip: ${data.tx_skip || "?"}<br>
          `;
          document.getElementById('status-text').innerHTML = statusText;
        });
    </script>
  </main>
  <script src="common.js"></script>
</body>
</html>
